<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />

    <!-- Site branding -->
    <title>Doudou Compagnie</title>
    <meta name="description" content="Doudou Compagnie — product catalog, collections and gift ideas." />
    <meta name="author" content="Doudou Compagnie" />
    <meta name="robots" content="index, follow" />

    <!-- Open Graph (WhatsApp / iMessage / Facebook / LinkedIn) -->
    <meta property="og:title" content="Doudou Compagnie" />
    <meta property="og:description" content="Doudou Compagnie — product catalog, collections and gift ideas." />
    <meta property="og:type" content="website" />
    <meta property="og:url" content="https://ionharuta.github.io/doudou-compagnie-website-builder/" />
    <meta property="og:site_name" content="Doudou Compagnie" />
    <meta property="og:locale" content="ro_RO" />
    <!-- Removed og:image to prevent preview cards - will show as simple link -->

    <!-- Twitter -->
    <meta name="twitter:card" content="summary" />
    <meta name="twitter:title" content="Doudou Compagnie" />
    <meta name="twitter:description" content="Doudou Compagnie — product catalog, collections and gift ideas." />
    <!-- Removed twitter:image to prevent preview cards - will show as simple link -->
  </head>

  <body>
    <div id="root"></div>
    <!-- Redirect social media crawlers to force cache refresh -->
    <script>
      // Detect social media crawlers and redirect to versioned URL to force cache refresh
      (function() {
        var ua = navigator.userAgent.toLowerCase();
        var isSocialCrawler = 
          ua.includes('facebookexternalhit') ||
          ua.includes('twitterbot') ||
          ua.includes('linkedinbot') ||
          ua.includes('whatsapp') ||
          ua.includes('telegrambot') ||
          ua.includes('applebot') ||
          ua.includes('slackbot') ||
          ua.includes('discordbot');
        
        var l = window.location;
        // Only redirect if no version parameter exists and it's a crawler
        if (isSocialCrawler && !l.search.includes('v=')) {
          var newUrl = l.href + (l.search ? '&' : '?') + 'v=2';
          window.location.replace(newUrl);
          return;
        }
      })();
    </script>
    <!-- Redirect for GitHub Pages SPA routing -->
    <script>
      // Single Page Apps for GitHub Pages
      // https://github.com/rafgraph/spa-github-pages
      (function() {
        var pathSegmentsToKeep = 1;
        var l = window.location;
        var redirect = sessionStorage.redirect;
        delete sessionStorage.redirect;
        if (redirect && redirect != l.href) {
          history.replaceState(null, null, redirect);
        }
        // Handle redirect from 404.html
        if (l.search[1] === '/' ) {
          var decoded = l.search.slice(1).split('&').map(function(s) { 
            return s.replace(/~and~/g, '&')
          }).join('?');
          window.history.replaceState(null, null,
            l.pathname.slice(0, -1) + decoded + l.hash
          );
        }
      })();
    </script>
    <script type="module" src="/src/main.tsx"></script>
  </body>
</html>
